<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- CSS style -->
  <link rel="stylesheet" type="text/css"  href="./css/style.css" />
  <title>Sign Up - Second-hands Store Website</title>
</head>

<body>
  <div class="container">
    <div id="Header">
    </div>
    <div id="navbar"></div>
    <div class="card mt-3">
      <div class="card-header">Sign up</div>

      <div class="card-body">
        <!-- Thêm input username và avatar -->
        <form action="signup_process.html" method="post" class="needs-validation" novalidate enctype="multipart/form-data">
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required />
            <div class="invalid-feedback">Email cannot be left blank.</div>
          </div>

          <!--div class="mb-3">
            <label for="fullname" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="fullname" name="fullname" required />
            <div class="invalid-feedback">Username cannot be left blank.</div>
          </div>

          <div class="mb-3">
            <label for="avatar" class="form-label">Avatar</label>
            <input type="file" class="form-control" id="avatar" name="avatar" accept="image/*" required />
            <div class="invalid-feedback">Please select an avatar image.</div>
          </div-->
        
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password" autocomplete="new-password" required />
            <div class="invalid-feedback">Password cannot be left blank.</div>
          </div>

          <div class="mb-3">
            <label for="repassword" class="form-label">Confirm password</label>
            <input type="password" class="form-control" id="repassword" name="repassword" autocomplete="new-password" required />
            <div class="invalid-feedback">Confirm password cannot be left blank</div>
          </div>

          <button type="submit" class="btn btn-primary">
            <i class="bi bi-person-add"></i> Sign up
          </button>
        </form>
      </div>
    </div>
    <div id="footer"></div>
  </div>

  <script>
    (function () {
      "user strict";
      $("#navbar").load("inc/navbar.html");
      $("#footer").load("inc/footer.html");
    });

    (function () {
      'user strict';
      const form = document.querySelector(".needs-validation");

      form.addEventListener("submit", (event) => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        } else {
          event.preventDefault(); //Ngăn form submit
          const email = $("#email").val();
          const password = $("#password").val();
          const repassword = $("#repassword").val();

          if (password !== repassword) {
            alert("Password and confirm password do not match!");
            return;
          }

          localStorage.setItem("email", email);
          localStorage.setItem("password", password);

          //Change page
          window.location.href = "signup_process.html";

        }
        form.classList.add("was-validated");
      });
    })();
  </script>
</body>

</html>